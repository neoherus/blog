<!doctype html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta http-equiv="cache-control" content="public"><link rel="shortcut icon" type="image/x-icon" href="" media="screen"><link rel="stylesheet" href="/blog/css/style-d8f05a4489aaefb6d44e96686a8160e8.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro"><link rel="stylesheet" href="/blog/font-awesome-4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/blog/icon-font/iconfont-4a29ee354757b03db2c8eaaa24686ed8.css"><title>ShadowsocksR代理方式 - vimcaw的个人博客</title><link rel="stylesheet" href="/blog/css/post-757109b53c5541ec80e1ed05f9786792.css"><link rel="stylesheet" href="/blog/css/tocbot-60097449be5093b2b110a7546bce1247.css"><link rel="shortcut icon" href="/blog/image/favicon-d75f01b3d24560fb09e136bdc6e2d396.ico" type="image/vnd.microsoft.icon"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?46649aaca124d5d1bfd6d10d28ddb51d";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body><header id="top"><div class="top-inner"><div class="icon"><a href="/blog/"><img src="/blog/image/icon-0fd3804fbdfc60e0756c074adef5769e.png" alt="">vimcaw的个人博客</a></div><div class="site-nav"><a href="/blog/">首页</a><ul class="site-category-list"><li class="site-category-list-item"><a class="site-category-list-link" href="/blog/categories/C/">C#</a></li><li class="site-category-list-item"><a class="site-category-list-link" href="/blog/categories/Hexo/">Hexo</a></li><li class="site-category-list-item"><a class="site-category-list-link" href="/blog/categories/Web前端/">Web前端</a></li><li class="site-category-list-item"><a class="site-category-list-link" href="/blog/categories/个人项目/">个人项目</a></li><li class="site-category-list-item"><a class="site-category-list-link" href="/blog/categories/软件/">软件</a></li></ul></div></div></header><div class="content"><div class="sidebar"><div class="loader">Loading...</div></div><div class="main"><header>ShadowsocksR代理方式</header><div class="info"><div class="category"><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/blog/categories/软件/">软件</a></li></ul></div><ul><li class="date"><span class="fa fa-calendar">发表于 </span><span>2017-08-13</span></li><li class="tag"><span class="fa fa-tags">标签:</span><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ShadowsocksR/">ShadowsocksR</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/科学上网/">科学上网</a></li></ul></li></ul></div><article><p>ShadowsocksR（以下简称SSR） 一直是科学上网的神器，即使在现在VPN封杀无数、Shadowsocks被嗅探出特征而被封锁的艰难时刻，SSR凭借其混淆功能仍能屹立不倒。那么它能代理哪些软件呢？</p><p>它有个很方便的地方是可以根据访问的网址是否为外网决定是否进行代理连接。但是它有两个地方可以进行代理判断，一个是“系统代理模式”，一个是“代理规则”，那么它们有什么区别，又分别实现什么功能呢？</p><p>本文将对其一一解答。<br><a id="more"></a></p><h1 id="哪些软件能通过ShadowsocksR代理"><a href="#哪些软件能通过ShadowsocksR代理" class="headerlink" title="哪些软件能通过ShadowsocksR代理"></a>哪些软件能通过ShadowsocksR代理</h1><p>首先要知道，并不是所有的软件都能通过SSR进行代理。<br>ShadowsocksR只支持两种代理方式：</p><ol><li><strong>系统代理</strong>。浏览器一般都通过系统代理连接。</li><li><strong>HTTP/Socks代理</strong>。其它应用也多数采用HTTP/Socks连接，所以大部分软件均可代理。</li></ol><p>不能通过ShadowsocksR代理的应用：</p><ol><li>大多数游戏。大多数游戏直接采用底层的TCP/UDP进行连接，无法代理。</li><li>在 Win10下，UWP应用是运行在被隔离的AppContainers环境中，该环境阻止了网络流量发送到本机。因此，没有采用系统代理方式的UWP应用无法被代理（比如“邮件”应用无法登陆GMail），但是通过系统代理连接的UWP应用仍然可以连接（比如EDGE）。</li></ol><h1 id="不能通过ShadowsocksR连接的软件如何进行代理"><a href="#不能通过ShadowsocksR连接的软件如何进行代理" class="headerlink" title="不能通过ShadowsocksR连接的软件如何进行代理"></a>不能通过ShadowsocksR连接的软件如何进行代理</h1><p>要用到一款神器：Proxifier</p><blockquote><p>Proxifier是一款功能非常强大的socks5客户端，可以让不支持通过代理服务器工作的网络程序能通过HTTPS或SOCKS代理或代理链。</p></blockquote><p>教程：<a href="https://doub.io/ss-jc7/" target="_blank" rel="external">使用Proxifier把shadowsocks代理转为真·全局(类VPN) | 逗比根据地</a></p><p>但是在Win10下，没有采用系统代理方式的UWP应用仍然无法代理，可以按照这篇文件进行解决：<a href="http://www.it610.com/article/4089572.htm" target="_blank" rel="external">Windows 10 Metro Apps使用Proxifier的方法 - 开源软件 - IT610.com</a></p><h1 id="ShadowsocksR代理流程"><a href="#ShadowsocksR代理流程" class="headerlink" title="ShadowsocksR代理流程"></a>ShadowsocksR代理流程</h1><p>参考网络上的资料，我自己也画了一张SSR代理流程图：</p><p><img src="/blog/2017/08/13/ShadowsocksR代理方式/images/SSR代理流程-fe8afee3da0984508d085942bda02c7d.png" alt="SSR代理流程"></p><p></p><p class="tip">“系统代理模式”的“PAC模式”是通过“pac.txt”文件判断网站是否进行代理，而“代理规则”则是通过IP地址进行判断是否为外网。</p><p>通过流程图可以看出，SSR的“系统代理模式”选项只是控制通过系统代理连接的软件（比如浏览器）是否接入SSR，而其它软件的连接则不受此判断，直接接入SSR。</p><p>而软件的连接接入SSR后，SSR再通过“代理规则”判断软件是否通过代理连接。</p><p>所以，“系统代理模式”基本上只是控制浏览器访问的连接是否进入SSR，而“代理规则”才是最终决定所有连接是否代理的关键。</p><blockquote><p>参考资料：</p><ol><li><a href="https://www.tizipu.net/knowledgebase.php?action=displayarticle&amp;id=2" target="_blank" rel="external">SSR代理模式图 – 帮助中心 – 梯子铺</a></li><li><a href="https://doub.io/ss-jc10/" target="_blank" rel="external">ShadowsocksR 客户端 小白使用教程 | 逗比根据地</a></li><li><a href="https://doub.io/ss-jc9/" target="_blank" rel="external">Shadowsocks（Sock5代理）的PAC模式与全局模式与VPN的区别 | 逗比根据地</a></li><li><a href="http://www.it610.com/article/4089572.htm" target="_blank" rel="external">Windows 10 Metro Apps使用Proxifier的方法 - 开源软件 - IT610.com</a></li></ol><p></p></blockquote></article><div class="end"><span>The End</span></div><div class="copyright-announce"><p>© 本文著作权归 <a href="https://github.com/vimcaw">vimcaw</a> 所有，未经许可，不得转载使用。</p></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNDA4MS8xMDYxOQ=="><script type="text/javascript">!function(e,t){var n,c=e.getElementsByTagName(t)[0];"function"!=typeof LivereTower&&((n=e.createElement(t)).src="https://cdn-city.livere.com/js/embed.dist.js",n.async=!0,c.parentNode.insertBefore(n,c))}(document,"script")</script><noscript>为正常使用来必力评论功能请激活JavaScript</noscript></div></div><div id="nav" class="fa fa-bars circle-button"></div><div class="shade"></div><a href="#top" data-scroll id="back-to-top" class="fa fa-arrow-up circle-button"></a><div id="image-view" class="hidden"><img src="" alt=""></div></div><footer><ul class="social"><li><a href="https://github.com/vimcaw" title="GitHub账号：https://github.com/vimcaw" class="fa fa-github"></a></li><li><a href="mailto:vimcaw@gmail.com" title="Email: vimcaw@gmail.com" class="fa fa-envelope"></a></li><li><a href="https://www.zhihu.com/people/zhu-chang-sheng-87/" title="知乎账号: https://www.zhihu.com/people/zhu-chang-sheng-87/" class="iconfont icon-matuwang-zhihufangxingdianji"></a></li></ul><div class="copyright"><p>Copyright © <span id="current-year">current</span> <a href="https://github.com/vimcaw"><span>vimcaw</span></a></p></div><div class="powered-by"><p>Powered by <a href="https://hexo.io/">Hexo</a></p></div></footer><script>var date=new Date;document.getElementById("current-year").innerText=date.getFullYear()</script><script src="/blog/js/function-d24796a7c47bdd16c56a37b4cc69b6f0.js"></script><script src="/blog/js/tocbot.min-b4df311b4cd29a68f3e3a88908e99ba2.js"></script><script src="/blog/js/post-9d470d3546b071dcd2048db54495c785.js"></script></body></html>